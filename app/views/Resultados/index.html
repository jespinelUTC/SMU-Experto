#{extends 'main.html' /}



<div class="container">


		<div class="row">
		<div class="box">
		
			<div class="col-lg-12 text-center" >
			
				<h1>Reporte de la Evaluación</h1>
				
			</div>
		
	</div>
	
	
	</div>
	<div class="row">
		<div class="box">
			
			<div class="col-lg-3" >
			</div>
			<div class="col-lg-6" >
				
				<div class="table-responsive">
					<table class="table table-striped table-hover table-bordered">
						<tr>
							<td class="text-right">
								<b>Nombre del Sitio:</b>
							</td>
							<td>
								<b>${evaluacion.dato.nombreSitio}</b>
							</td>
						</tr>
						<tr>
							<td class="text-right">
								<b>Fecha de Evaluación:</b>
							</td>
							<td>
								${evaluacion.fecha}
							</td>
						</tr>
						<tr>
							<td class="text-right">
								<b>Nombre del Evaluador:</b>
							</td>
							<td>
								${evaluacion.usuario.nombre} ${evaluacion.usuario.apellido}
							</td>
						</tr>
						
						<tr>
							<td class="text-right">
								<b>Correo del Evaluador:</b>
							</td>
							<td>
								${evaluacion.usuario.email}
							</td>
						</tr>
						
						<tr>
							<td class="text-right">
								<b>Plataforma:</b>
							</td>
							<td>
								${evaluacion.dato.plataforma}
							</td>
						</tr>
						<tr>
							<td class="text-right">
								<b>Url/Versión:</b>
							</td>
							<td>
								${evaluacion.dato.url}
							</td>
						</tr>
						<tr>
							<td class="text-right">
								<b>Objetivo:</b>
							</td>
							<td>
								${evaluacion.contexto.objetivos}
							</td>
						</tr>
						<tr>
							<td class="text-right">
								<b>Pantallas:</b>
							</td>
							<td>
								${evaluacion.contexto.pantallas}
							</td>
						</tr>
						<tr>
							<td class="text-right">
								<b>Tareas:</b>
							</td>
							<td>
								${evaluacion.contexto.tareas}
							</td>
						</tr>
						
						
					</table>
				</div>
			
		
		
		</div>
	
	
	</div>

</div>

#{list items:parametros, as:'parametro'}
	<div class="row">
		<div class="box">
			
			<div class="col-lg-3" >
			</div>
			<div class="col-lg-6" >
					<center><h3>${parametro.nombre}</h3></center>
				
				
					
						<div class="table-responsive">
								<table class="table table-striped table-hover table-bordered">
								<tr>
									<th>
										<CENTER>PREGUNTA</CENTER>
									</th>
									<th> 
										PTOS
									</th>
								</tr>
									%{int cal=0;}%
									
									#{list items:resumen, as: 'r'}	
									#{if parametro == r.item.parametro}
									<tr>
										<td>
											${r.item.pregunta}
										</td>
										<td>
											${r.calificacion}
											%{cal+=r.calificacion;}%
										</td>
									</tr>
									#{/if}
								#{/list}
									<tr>
										
										
										#{if cal<=15}
											<td class="text-right" style="background-color: #FF4732; "><b>TOTAL:</b></td>
											<td class="text-center" style="background-color: #FF4732;">
												<b>${cal}/50</b>
											</td>
										#{/if}
										
										#{if (cal>=16 && cal<=25)}
											<td class="text-right" style="background-color: #E8CE46;"><b>TOTAL:</b></td>
											<td class="text-center" style="background-color: #E8CE46;">
												<b>${cal}/50</b>
											</td>
										#{/if}
										#{if (cal>=26)}
											<td class="text-right" style="background-color: #5DFF7B;"><b>TOTAL:</b></td>
											<td class="text-center" style="background-color: #5DFF7B;">
												<b>${cal}/50</b>
											</td>
										#{/if}
										
										
									</tr>
								
								</table>
						</div>
						
				
			</div>
		</div>
	</div>
#{/list}




<div class="box">
<h2 class="text-center">GRÁFICA DE LOS RESULTADOS</h2>
<br><br>

<canvas id="chart-area3" width="600px" height="200px"></canvas>

<meta charset="utf-8">

<script >
	var barChartData = {
		labels : [
				#{list items:parametros, as:'parametro'}
		          	"${parametro.nombre}",
		         #{/list}
		          ],
		datasets : [
			{
				fillColor : "#6b9dfa",
				strokeColor : "black",//bordes
				highlightFill: "#1864f2",//hover
				highlightStroke: "#ffffff",
				data : [
						#{list items:parametros, as:'parametro'}
							%{int cal=0;}%
							#{list items:resumen, as: 'r'}	
								#{if parametro == r.item.parametro}
									%{cal+=r.calificacion;}%
								#{/if}
							#{/list}	
								${cal},
						#{/list}
				       ]
			}
		]

	}	
		
var ctx3 = document.getElementById("chart-area3").getContext("2d");
			
window.myPie = new Chart(ctx3).Bar(barChartData, {
	responsive:true,
	
	});

</script>

</div>



</div>